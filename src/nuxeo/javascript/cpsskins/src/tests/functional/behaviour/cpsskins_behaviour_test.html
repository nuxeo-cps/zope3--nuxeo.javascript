<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xml:lang="en" lang="en"
      xmlns="http://www.w3.org/1999/xhtml">
<head>
  <title>CPSSkins Unit test file</title>
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />
  <script src="../../prototype.js" type="text/javascript"></script>
  <script src="../../json.js" type="text/javascript"></script>
  <script src="../../ctal.js" type="text/javascript"></script>
  <script src="../../../cpsskins.js" type="text/javascript"></script>
  <link rel="stylesheet" href="../../../cpsskins.css" type="text/css" />

  <style type="text/css">
  #item1 {
    background-color: #efc;
    border: 1px solid #ccc;
    padding: 0.2em;
    margin: 2em;
    cursor: pointer;
  }
  div.area {
    margin: 3em;
  }
  div.area span {
    padding: 1em;
    border: 1px solid #ccc;
  }
  </style>

  <script type="text/javascript">
    function sayHello(event) {
      var target = Event.element(event);
      target.innerHTML = 'Hello!';
    }

    function focusArea(event) {
      var target = Event.element(event);
      Element.setStyle(target, {'background-color': '#ffc'});
    }

    function unfocusArea(event) {
      var target = Event.element(event);
      Element.setStyle(target, {'background-color': null});
    }

    CPSSkins.addActions(
      {'say-hello': sayHello,
       'focus-area': focusArea,
       'unfocus-area': unfocusArea
      });

  </script>

</head>
<body>

  <h1>CPSSkins behaviour</h1>

  <div id="area1">

    <ins class="controller">
    {"id": "behaviour",
     "type": "behaviour",
     "rules": {
       "#item1": {
         "click": "say-hello"
       },
       "div.area span": {
         "mouseover": "focus-area",
         "mouseout": "unfocus-area"
       }
    }}
    </ins>

    <!-- dummy model (needed for rendering the view) -->
    <ins class="model">
    {"id": "dummy"}
    </ins>

    <ins class="view">
    {"id": "template",
     "model": "dummy",
     "widget": {
       "template": "template.html"
     },
     "controllers": ["behaviour"]
    }
    </ins>

  </div>

</body>
</html>
